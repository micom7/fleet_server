{% extends "base.html" %}
{% block title %}–ê–≤—Ç–æ–ø–∞—Ä–∫{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-bold text-gray-800">–ê–≤—Ç–æ–ø–∞—Ä–∫</h1>
  <span class="text-xs text-gray-400 flex items-center gap-1">
    <span class="w-2 h-2 bg-green-400 rounded-full inline-block animate-pulse"></span>
    –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Å–µ–∫
  </span>
</div>

{% if not vehicles %}
<div class="bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center">
  <div class="text-4xl mb-3">üöó</div>
  <p class="text-gray-500">–ê–≤—Ç–æ –Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ.</p>
  {% if user.role == 'superuser' %}
  <a href="/admin?tab=vehicles" class="mt-3 inline-block text-blue-600 hover:underline text-sm">
    –î–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ ‚Üí
  </a>
  {% endif %}
</div>
{% else %}
<div id="fleet-grid"
     class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4"
     hx-get="/partials/fleet"
     hx-trigger="every 30s"
     hx-target="#fleet-grid"
     hx-swap="outerHTML">
  {% include "partials/fleet_cards.html" %}
</div>
{% endif %}
{% endblock %}
